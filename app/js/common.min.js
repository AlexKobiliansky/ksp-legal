$(document).ready(function(){var t=$(".toggle-mnu");function e(){$(window).width()>=991&&($(".service-control-title").height("auto").equalHeights(),$(".service-control-desc").height("auto").equalHeights()),$(window).width()>=479&&$(".project-item-overlay").height("auto").equalHeights(),$(window).width()>=768&&($(".ach-item").height("auto").equalHeights(),$(".sl-item").height("auto").equalHeights()),$(".num-item-desc").height("auto").equalHeights(),$(".consult-col").height("auto").equalHeights(),$(".serv-col").height("auto").equalHeights(),$(".cost-link-title").height("auto").equalHeights()}t.click(function(){$(this).toggleClass("on")}),$("#mobile-mnu").mmenu({navbar:{title:""},extensions:["position-right","theme-dark","pagedim-black"]},{offCanvas:{pageSelector:"#page-content"}}).data("mmenu").bind("close:start",function(){setTimeout(function(){t.removeClass("on")},300)}),$(".serv-controls li:first-child").addClass("active"),$(".serv-panel:first-child").addClass("active"),$(window).resize(function(){e()}),e(),$("img.svg").each(function(){var t=jQuery(this),e=t.attr("id"),i=t.attr("class"),o=t.attr("src");jQuery.get(o,function(o){var s=jQuery(o).find("svg");void 0!==e&&(s=s.attr("id",e)),void 0!==i&&(s=s.attr("class",i+" replaced-svg")),!(s=s.removeAttr("xmlns:a")).attr("viewBox")&&s.attr("height")&&s.attr("width")&&s.attr("viewBox","0 0 "+s.attr("height")+" "+s.attr("width")),t.replaceWith(s)},"xml")}),$(".service-control").on("click",function(t){t.preventDefault();var e=$(".tab-list"),i=$(".service-panel.active"),o=e.find("li.active"),s=$(this).parents("li"),a=this.hash;a&&!s.is(".active")&&(i.removeClass("active"),o.removeClass("active"),i=$(a).addClass("active"),o=s.addClass("active"))}),$(".serv-controls a").on("click",function(t){t.preventDefault();var i=$(this),o=i.parents("li"),s=i.attr("href"),a=$(".serv-controls li.active"),n=$(".serv-panel.active");s&&!o.is(".active")&&(a.removeClass("active"),n.removeClass("active"),o.addClass("active"),$(".serv-panel").each(function(){var t=$(this),e=t.data("id");s===e&&(t.addClass("active"),$(window).width()<768&&$("html, body").animate({scrollTop:$(".anchors").offset().top},600))}),e())}),$(".cost-link").on("click",function(t){t.preventDefault();var e=$(this),i=e.attr("href"),o=$(".cost-link.active"),s=$(".cost-item.active");i&&!e.is(".active")&&(o.removeClass("active"),s.removeClass("active"),e.addClass("active"),$(".cost-item").each(function(){var t=$(this),o=t.data("id");i===o&&t.addClass("active"),$(window).width()<=480&&e.is(".right")&&$("html, body").animate({scrollTop:$("#cost-items-wrap").offset().top},600)}))}),$(".more-deals").on("click",function(t){t.preventDefault();var i=$(this),o=i.siblings(".serv-controls");o.is(".active")?(o.removeClass("active"),i.text("Смотреть еще...")):(o.addClass("active"),i.text("Свернуть список")),e()}),$(".user-phone").mask("+7 (999) 999-99-99",{autoclear:!1}),$.validate({form:".contact-form"}),$(function(){$("a[href='#popup-form']").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,mainClass:"my-mfp-zoom-in"})}),$(".faq-item:first-child").find(".faq-item-quest").addClass("opened"),$(".projects-slider").on("afterChange init",function(t,e,i){e.$slides.removeClass("prevSlide").removeClass("nextSlide");for(var o=0;o<e.$slides.length;o++){var s=$(e.$slides[o]);if(s.hasClass("slick-current")){s.prev().addClass("prevSlide"),s.next().addClass("nextSlide");break}}}).on("beforeChange",function(t,e){e.$slides.removeClass("prevSlide").removeClass("nextSlide")}).slick({infinite:!0,slidesToShow:3,centerMode:!0,centerPadding:"0",speed:500,fade:!1,cssEase:"linear",autoplay:!1,draggable:!1,adaptiveHeight:!1,dots:!0,prevArrow:"<button type='button' class='more-link slick-prev'>Предыдущий проект</button>",nextArrow:"<button type='button' class='more-link slick-next'>Следующий проект</button>",responsive:[{breakpoint:1300,settings:{centerMode:!0,centerPadding:"0",slidesToShow:1,fade:!0,cssEase:"linear",speed:1e3}},{breakpoint:767,settings:{centerMode:!1,centerPadding:"20px",arrows:!1,slidesToShow:1,draggable:!0}},{breakpoint:479,settings:{centerMode:!1,centerPadding:"20px",arrows:!1,slidesToShow:1,draggable:!0,adaptiveHeight:!0,dots:!1}}]}),$(".project-item-overlay").height("auto").equalHeights(),$(".comments-slider").owlCarousel({loop:!0,margin:18,nav:!0,items:2,navText:["Предыдущая страница","Следующая страница"],slideBy:1,responsive:{0:{items:1},992:{items:2}}}),$(".practices-slider").owlCarousel({loop:!0,margin:65,nav:!0,items:3,navText:["Предыдущая страница","Следующая страница"],slideBy:1,center:!0,responsive:{0:{items:1},600:{items:2,center:!1},992:{items:3}}}),$(".faq-item-quest").on("click",function(){var t=$(this),e=t.parents(".faq-item");t.toggleClass("opened"),t.siblings(".faq-item-ans").slideToggle(),e.siblings(".faq-item").each(function(){$(this).find(".faq-item-quest").removeClass("opened"),$(this).find(".faq-item-ans").slideUp()})}),$("form").submit(function(){var t=$(this);return $.ajax({type:"POST",url:"mail.php",data:t.serialize()}).done(function(){}),!1}),function(){var t,e;window.scrollList=[],e=function(t,e,i){return i+30-Date.now()<0&&(t.call(e),!0)},t=function(){function t(t){var e;this.node=$(t),this.listed=this.node.find(" > *"),this.coef=[.1,.2,.3,.4,.5],e=this.node.offset().top,this.top=e+parseInt(this.node.data("totop")?this.node.data("totop"):0),this.bot=e+this.node.height()+parseInt(this.node.data("tobot")?this.node.data("tobot"):0),this.reverse=!!this.node.data("reverse"),this.horizontal=!!this.node.data("horizontal"),this.doc=document.documentElement,this.init(),console.log(this)}return t.prototype.init=function(){return this.reverse?this.horizontal?(console.log("hscroll"),window.scrollList.push([this.hrscroll,this])):window.scrollList.push([this.rscroll,this]):this.horizontal?(console.log("hscroll"),window.scrollList.push([this.hscroll,this])):window.scrollList.push([this.scroll,this])},t.prototype.scroll=function(){var t,e,i,o,s;if(t=this,o=(window.pageYOffset||this.doc.scrollTop)+(this.doc.clientTop||0),s=window.innerHeight,i=this.top-s,e=this.bot,o>i&&o<e)return this.listed.each(function(e,i){var s,a;return a=$(i),s=parseInt((t.top-o)*t.coef[e]),a.css("margin-top",s+"px")})},t.prototype.rscroll=function(){var t,e,i,o,s;if(t=this,o=(window.pageYOffset||this.doc.scrollTop)+(this.doc.clientTop||0),s=window.innerHeight,i=this.top-s,e=this.bot,o>i&&o<e)return this.listed.each(function(e,i){var s,a;return a=$(i),s=parseInt((o-t.top)*t.coef[e]),a.css("margin-top",s+"px")})},t.prototype.hscroll=function(){var t,e,i,o,s;if(this,o=(window.pageYOffset||this.doc.scrollTop)+(this.doc.clientTop||0),s=window.innerHeight,i=this.top-s,e=this.bot,o>i&&o<e)return t=parseInt((this.top-o)*this.coef[2]),this.node.css("background-position",t+"px top")},t.prototype.hrscroll=function(){var t,e,i,o,s;if(this,o=(window.pageYOffset||this.doc.scrollTop)+(this.doc.clientTop||0),s=window.innerHeight,i=this.top-s,e=this.bot,o>i&&o<e)return t=parseInt((o-this.top)*this.coef[2]),this.node.css("background-position",t+"px top")},t}(),$("document").ready(function(){var i;$('[data-node="parallax"]').each(function(e,i){return new t(i),!0}),i=Date.now(),$(document).on("scroll",function(){var t,o,s,a,n;for(n=!1,o=0,s=(a=window.scrollList).length;o<s;o++)t=a[o],e(t[0],t[1],i)&&(n=!0);if(n)return i=Date.now()}),setTimeout(function(){return $(document).trigger("scroll")},100)})}.call(this),$(".preloader").fadeOut(600);var i=document.createElement("script");i.src="//www.youtube.com/iframe_api";var o,s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(i,s),onYouTubeIframeAPIReady=function(){$(".video-player .you-player").each(function(){$(this).attr("id");var t=$(this).parents(".video-player").data("video"),e=$(this).siblings(".start-video");o=new YT.Player("videoPlayer",{videoId:t,playerVars:{autoplay:0,rel:0,showinfo:0},events:{onStateChange:onPlayerStateChange}}),e.on("click",function(){$(this).hide(),$(this).siblings(".you-player").show(),$(this).siblings(".thumbnail_container").hide(),o.playVideo()})})};var a=document.getElementsByClassName("you-player");$(a).hide(),onPlayerStateChange=function(t){t.data==YT.PlayerState.ENDED&&($(".you-player").hide(),$(".start-video").fadeIn("normal"),$(".thumbnail_container").fadeIn("normal"))}});